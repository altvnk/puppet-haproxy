{"name":"Puppet-haproxy","tagline":"","body":"# Puppet HAProxy\r\n\r\n## Requirements\r\n\r\n* [concat module](https://github.com/ripienaar/puppet-concat)\r\n* Puppetlabs [apt module](https://github.com/puppetlabs/puppetlabs-apt) or\r\n* Camptocamp [apt module](https://github.com/camptocamp/puppet-apt)\r\n\r\n## Tested on...\r\n\r\n* Debian 6 (Squeeze)\r\n\r\n## Example usage\r\n\r\n### Install HAProxy\r\n\r\n    node /box/ {\r\n      include haproxy\r\n    }\r\n\r\n### Adjust configuration settings\r\n\r\n    node /box/ {\r\n      class { 'haproxy':\r\n        defaults_maxconn => '32768',\r\n        global_nbproc    => '2',\r\n        global_chroot    => '/usr/share/haproxy',\r\n      }\r\n    }\r\n\r\n### Create split frontend instance\r\n\r\n    haproxy::instance { 'http-in':\r\n      instance        => 'frontend',\r\n      bind            => '*:80',\r\n      default_backend => 'pool1',\r\n    }\r\n\r\n### Create split backend instance\r\n\r\n    haproxy::instance { 'pool1':\r\n      instance => 'backend',\r\n      balance  => 'roundrobin',\r\n      option   => [ 'httpclose', 'checkcache' ],\r\n      server   => [\r\n        'inst1 10.0.1.10:80'\r\n        'inst2 10.0.1.20:80'\r\n      ],\r\n    }\r\n\r\n### Create combined listen instance\r\n\r\n    haproxy::instance { 'pool2':\r\n      instance => 'listen',\r\n      bind     => '0.0.0.0:80',\r\n      mode     => 'http',\r\n      option   => 'persist',\r\n      balance  => 'roundrobin',\r\n      server   => [\r\n        'inst1 10.0.2.10:80',\r\n        'inst2 10.0.2.20:80',\r\n      ],\r\n    }\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}